"use strict";(()=>{var e={};e.id=684,e.ids=[684],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7295:(e,r,o)=>{o.r(r),o.d(r,{originalPathname:()=>f,patchFetch:()=>M,requestAsyncStorage:()=>O,routeModule:()=>C,serverHooks:()=>R,staticGenerationAsyncStorage:()=>g});var t={};o.r(t),o.d(t,{GET:()=>m,dynamic:()=>d,revalidate:()=>E});var s=o(9303),n=o(8716),c=o(670),a=o(7070);let u=process.env.WOOCOMMERCE_URL,i=process.env.WOOCOMMERCE_CONSUMER_KEY,p=process.env.WOOCOMMERCE_CONSUMER_SECRET;async function l(e){try{if(!(u&&i&&p||(console.error("WooCommerce configuration missing:",{hasUrl:!!u,hasKey:!!i,hasSecret:!!p}),0)))return console.warn("WooCommerce not configured, returning empty array"),[];let r=u?.replace(/\/$/,""),o=`${r}/wp-json/wc/v3/products?per_page=100`;e&&(o+=`&category=${e}`);let t=Buffer.from(`${i}:${p}`).toString("base64"),s=await fetch(o,{headers:{Authorization:`Basic ${t}`},cache:"no-store"});if(!s.ok)throw console.error(`WooCommerce API error: ${s.status} ${s.statusText}`),Error(`WooCommerce API error: ${s.status}`);let n=await s.json();return console.log(`Successfully fetched ${n.length} products from WooCommerce`),n}catch(e){return console.error("Error fetching WooCommerce products:",e),[]}}let d="force-dynamic",E=0;async function m(e){try{if(console.log("Products API called"),!(process.env.WOOCOMMERCE_URL&&process.env.WOOCOMMERCE_CONSUMER_KEY&&process.env.WOOCOMMERCE_CONSUMER_SECRET))return console.error("WooCommerce environment variables not configured"),a.NextResponse.json({error:"WooCommerce not configured",message:"Please set WOOCOMMERCE_URL, WOOCOMMERCE_CONSUMER_KEY, and WOOCOMMERCE_CONSUMER_SECRET in your environment variables",products:[]},{status:200});let{searchParams:r}=new URL(e.url),o=r.get("category");console.log(`Fetching products${o?` for category: ${o}`:""}`);let t=await l(o||void 0);return console.log(`Successfully fetched ${t.length} products`),a.NextResponse.json(t)}catch(e){return console.error("Products API error:",e),a.NextResponse.json({error:"Failed to fetch products",message:e instanceof Error?e.message:"Unknown error",products:[]},{status:200})}}let C=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"/workspaces/EvansSarmLab/src/app/api/products/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:O,staticGenerationAsyncStorage:g,serverHooks:R}=C,f="/api/products/route";function M(){return(0,c.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:g})}}};var r=require("../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[276,972],()=>o(7295));module.exports=t})();